webpackJsonp([7],{"5LIk":function(t,e){},"9xJY":function(t,e){},JDfD:function(t,e){},Jklq:function(t,e){},NyI8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("wiMi"),n("ZKpu");function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r=n("/C1n").a.postIfLogin,i={data:function(){return{ws:null,count:0,userId:null,list:[],contentText:"",userInfo:{}}},created:function(){var t=this;this.getUserID(),r().then(function(e){console.log(e,"oi"),t.userInfo=e.data.userInfo}).catch(function(t){console.log(t)})},mounted:function(){this.initWebSocket()},methods:{getUserID:function(){var t=(new Date).getTime();this.userId=t},getUserHead:function(t,e){var n=String(t);return"bck"==e?Number(n.substring(n.length-3)):"polygon"==e?Number(n.substring(n.length-2)):"rotate"==e?Number(n.substring(n.length-3)):void 0},scrollBottm:function(){var t=this.$refs["msg-box"];t.scrollTop=t.scrollHeight},sendText:function(){var t=this;if(t.$refs.sendMsg.focus(),t.contentText&&this.userInfo){var e={userId:t.userId,msg:t.contentText,user:t.userInfo.user};t.ws.send(JSON.stringify(e)),t.contentText="",setTimeout(function(){t.scrollBottm()},500)}},initWebSocket:function(){var t=this;if(window.WebSocket&&this.userInfo){var e=new WebSocket("ws://www.fyyd.vip");t.ws=e,e.onopen=function(){console.log("服务器连接成功")},e.onclose=function(){console.log("服务器连接关闭")},e.onerror=function(){console.log("服务器连接出错")},e.onmessage=function(e){console.log(e,"iu");var n=JSON.parse(e.data);"userCount"==n.funName?(t.count=n.users,t.list=n.chat,console.log(n.chat)):t.list=[].concat(o(t.list),[{userId:n.userId,content:n.msg,user:n.user}])}}}}},a={render:function(){var t,e=this,n=e.$createElement,s=e._self._c||n;return s("div",{staticClass:"chat-box"},[s("header",[e._v("聊天室人数："+e._s(e.count))]),e._v(" "),s("div",{ref:"msg-box",staticClass:"msg-box"},e._l(e.list,function(t,n){return s("div",{key:n,staticClass:"msg",style:t.userId==e.userId?"flex-direction:row-reverse":""},[s("div",{staticClass:"user-head"},[s("div",{staticClass:"head",style:" background: hsl("+e.getUserHead(t.userId,"bck")+", 88%, 62%); clip-path:polygon("+e.getUserHead(t.userId,"polygon")+"% 0,100% 100%,0% 100%); transform: rotate("+e.getUserHead(t.userId,"rotate")+"deg)"}),e._v(" "),s("span",[e._v(e._s(t.user))])]),e._v(" "),s("div",{staticClass:"user-msg"},[s("span",{class:t.userId==e.userId?"right":"left",style:t.userId==e.userId?" float: right;":""},[e._v(e._s(t.content))])])])}),0),e._v(" "),s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.contentText,expression:"contentText"}],ref:"sendMsg",attrs:{type:"text"},domProps:{value:e.contentText},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendText()},input:function(t){t.target.composing||(e.contentText=t.target.value)}}}),e._v(" "),s("el-button",{staticClass:"btn",class:(t={},t["btn-active"]=e.contentText,t),on:{click:function(t){return e.sendText()}}},[e._v("发送")])],1)])},staticRenderFns:[]};var c=n("VU/8")(i,a,!1,function(t){n("aH9N")},"data-v-b1ec0f96",null).exports,l=(n("g3Gj"),n("5LIk"),n("iqGf")),u=(n("4CPX"),{components:{videoPlayer:l.videoPlayer},data:function(){return{videoSrc:"",videoOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",techOrder:["flash","html5"],sources:[{type:"rtmp/hls",src:"rtmp://58.200.131.2:1935/livetv/hunantv"}],poster:"",notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}}}),d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"video-box"},[e("videoPlayer",{ref:"videoPlayer",staticClass:"vjs-custom-skin videoPlayer",attrs:{options:this.videoOptions,playsinline:!0}})],1)},staticRenderFns:[]};var f=n("VU/8")(u,d,!1,function(t){n("JDfD")},"data-v-17bf2f9b",null).exports,p={components:{videoPlayer:l.videoPlayer},data:function(){return{videoSrc:"",videoOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",techOrder:["flash","html5"],sources:[{type:"rtmp/hls",src:"rtmp://zb.fyyd.vip/app/a"}],poster:"",notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"video-box"},[e("videoPlayer",{ref:"videoPlayer",staticClass:"vjs-custom-skin videoPlayer",attrs:{options:this.videoOptions,playsinline:!0}})],1)},staticRenderFns:[]};var g={name:"football",components:{BlogVideo:n("VU/8")(p,v,!1,function(t){n("9xJY")},"data-v-89e8e610",null).exports,Websocket:c,Video:f}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("div",{staticStyle:{margin:"10px"}},[e("a",{staticStyle:{"font-size":"20px",padding:"10px"},attrs:{href:"http://www.azhibo.com/zuqiuzhibo"}},[this._v("A直播")]),this._v(" "),e("a",{staticStyle:{"font-size":"20px",padding:"10px"},attrs:{href:"https://kanqiubao.com/room/10716/"}},[this._v("看球宝")]),this._v(" "),e("div",{staticStyle:{"margin-top":"10px"}},[e("Video")],1),this._v(" "),e("div",{staticStyle:{"margin-top":"10px"}},[e("BlogVideo")],1)]),this._v(" "),e("Websocket")],1)},staticRenderFns:[]};var h=n("VU/8")(g,m,!1,function(t){n("Jklq")},"data-v-1a20d151",null);e.default=h.exports},aH9N:function(t,e){}});